<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHubå®šæ—¶æé†’ç³»ç»Ÿ | ä¸“ä¸šæ§åˆ¶å°</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        :root {
            --primary: #007bff;
            --primary-dark: #0056b3;
            --success: #28a745;
            --success-dark: #1e7e34;
            --warning: #ffc107;
            --warning-dark: #e0a800;
            --danger: #dc3545;
            --danger-dark: #bd2130;
            --info: #17a2b8;
            --info-dark: #138496;
            
            --bg-dark: #0f172a;
            --bg-card: #1e293b;
            --bg-card-hover: #2d3748;
            --bg-input: #2d3748;
            --bg-sidebar: #1a202c;
            
            --text-primary: #f7fafc;
            --text-secondary: #cbd5e0;
            --text-muted: #94a3b8;
            --text-accent: #63b3ed;
            
            --border-color: #374151;
            --shadow-color: rgba(0, 0, 0, 0.3);
            
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-success: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            --gradient-warning: linear-gradient(135deg, #f7971e 0%, #ffd200 100%);
            --gradient-danger: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%);
            
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 24px;
            
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        body {
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            display: grid;
            grid-template-columns: 280px 1fr;
            min-height: 100vh;
        }
        
        /* ä¾§è¾¹æ  */
        .sidebar {
            background: var(--bg-sidebar);
            border-right: 1px solid var(--border-color);
            padding: 30px 20px;
            position: fixed;
            width: 280px;
            height: 100vh;
            overflow-y: auto;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 40px;
            padding: 0 10px;
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background: var(--gradient-primary);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        
        .logo-text {
            font-size: 22px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--text-primary), var(--text-accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .nav-menu {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 16px;
            border-radius: var(--radius-md);
            color: var(--text-secondary);
            text-decoration: none;
            transition: var(--transition);
            cursor: pointer;
        }
        
        .nav-item:hover {
            background: var(--bg-card-hover);
            color: var(--text-primary);
            transform: translateX(5px);
        }
        
        .nav-item.active {
            background: var(--bg-card);
            color: var(--text-primary);
            border-left: 4px solid var(--primary);
        }
        
        .nav-item i {
            width: 20px;
            text-align: center;
            font-size: 18px;
        }
        
        .nav-label {
            font-size: 15px;
            font-weight: 500;
        }
        
        .system-info {
            margin-top: 40px;
            padding: 20px;
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-color);
        }
        
        .info-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 13px;
        }
        
        .info-label {
            color: var(--text-muted);
        }
        
        .info-value {
            color: var(--text-primary);
            font-weight: 600;
        }
        
        /* ä¸»å†…å®¹åŒº */
        .main-content {
            margin-left: 280px;
            padding: 30px;
            min-height: 100vh;
        }
        
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .page-title {
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--text-primary), var(--text-accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .page-subtitle {
            color: var(--text-muted);
            font-size: 14px;
            margin-top: 5px;
        }
        
        .action-bar {
            display: flex;
            gap: 12px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            padding: 24px;
            border: 1px solid var(--border-color);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient-primary);
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px var(--shadow-color);
        }
        
        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            margin-bottom: 16px;
        }
        
        .stat-icon.primary { background: rgba(102, 126, 234, 0.1); color: #667eea; }
        .stat-icon.success { background: rgba(46, 204, 113, 0.1); color: #2ecc71; }
        .stat-icon.warning { background: rgba(243, 156, 18, 0.1); color: #f39c12; }
        .stat-icon.danger { background: rgba(231, 76, 60, 0.1); color: #e74c3c; }
        
        .stat-value {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 8px;
        }
        
        .stat-label {
            color: var(--text-muted);
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 1200px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .panel {
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-color);
            overflow: hidden;
        }
        
        .panel-header {
            padding: 20px 24px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .panel-title {
            font-size: 18px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .panel-body {
            padding: 24px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 14px 16px;
            background: var(--bg-input);
            border: 2px solid var(--border-color);
            border-radius: var(--radius-md);
            color: var(--text-primary);
            font-size: 15px;
            transition: var(--transition);
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .btn {
            padding: 14px 24px;
            border: none;
            border-radius: var(--radius-md);
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn-success:hover {
            background: var(--success-dark);
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(46, 204, 113, 0.3);
        }
        
        .btn-warning {
            background: var(--warning);
            color: #333;
        }
        
        .btn-warning:hover {
            background: var(--warning-dark);
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(243, 156, 18, 0.3);
        }
        
        .btn-danger {
            background: var(--danger);
            color: white;
        }
        
        .btn-danger:hover {
            background: var(--danger-dark);
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(231, 76, 60, 0.3);
        }
        
        .btn-block {
            width: 100%;
        }
        
        .btn-small {
            padding: 8px 16px;
            font-size: 13px;
        }
        
        .reminder-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .reminder-item {
            background: var(--bg-input);
            border-radius: var(--radius-md);
            padding: 20px;
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }
        
        .reminder-item:hover {
            background: var(--bg-card-hover);
            transform: translateX(5px);
        }
        
        .reminder-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .reminder-title {
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .reminder-meta {
            display: flex;
            gap: 16px;
            color: var(--text-muted);
            font-size: 13px;
            margin-bottom: 12px;
        }
        
        .reminder-status {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-active { background: rgba(46, 204, 113, 0.1); color: #2ecc71; }
        .status-warning { background: rgba(243, 156, 18, 0.1); color: #f39c12; }
        .status-critical { 
            background: rgba(231, 76, 60, 0.1); 
            color: #e74c3c;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
        
        .reminder-actions {
            display: flex;
            gap: 8px;
        }
        
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-muted);
        }
        
        .empty-state i {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.5;
        }
        
        .empty-state h3 {
            font-size: 20px;
            margin-bottom: 10px;
            color: var(--text-secondary);
        }
        
        .notification {
            position: fixed;
            top: 30px;
            right: 30px;
            min-width: 300px;
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            padding: 20px;
            border-left: 4px solid;
            box-shadow: 0 10px 30px var(--shadow-color);
            animation: slideIn 0.4s ease;
            z-index: 1000;
            display: flex;
            gap: 12px;
            align-items: center;
        }
        
        .notification.success { border-color: var(--success); }
        .notification.error { border-color: var(--danger); }
        .notification.info { border-color: var(--info); }
        .notification.warning { border-color: var(--warning); }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .notification-icon {
            font-size: 22px;
        }
        
        .notification-content {
            flex: 1;
        }
        
        .notification-close {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            font-size: 18px;
            padding: 0;
        }
        
        .progress-bar {
            height: 4px;
            background: var(--bg-input);
            border-radius: 2px;
            margin-top: 12px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--gradient-primary);
            transition: width 0.3s ease;
        }
        
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-online { background: rgba(46, 204, 113, 0.1); color: #2ecc71; }
        .status-offline { background: rgba(231, 76, 60, 0.1); color: #e74c3c; }
        
        .time-display {
            font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
            background: var(--bg-input);
            padding: 8px 16px;
            border-radius: var(--radius-md);
            font-size: 14px;
        }
        
        /* è‡ªåŠ¨ä¿å­˜æ ·å¼ */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
            margin-left: 10px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background-color: var(--success);
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }
        
        .auto-save-status {
            font-size: 14px;
            padding: 5px 10px;
            border-radius: var(--radius-sm);
            display: inline-block;
        }
        
        .status-enabled { background: rgba(46, 204, 113, 0.1); color: #2ecc71; }
        .status-disabled { background: rgba(231, 76, 60, 0.1); color: #e74c3c; }
        .status-warning { background: rgba(243, 156, 18, 0.1); color: #f39c12; }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                position: fixed;
                left: -280px;
                z-index: 100;
                transition: transform 0.3s ease;
            }
            
            .sidebar.active {
                transform: translateX(280px);
            }
            
            .main-content {
                margin-left: 0;
                padding: 20px;
            }
            
            .top-bar {
                flex-direction: column;
                gap: 20px;
                align-items: flex-start;
            }
            
            .action-bar {
                width: 100%;
                flex-wrap: wrap;
            }
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 24px;
            cursor: pointer;
            padding: 10px;
        }
        
        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }
        }
        
        .token-config {
            background: var(--bg-input);
            padding: 20px;
            border-radius: var(--radius-md);
            margin: 20px 0;
            border: 1px solid var(--border-color);
        }
        
        .info-text {
            font-size: 14px;
            color: var(--text-muted);
            margin-bottom: 15px;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ä¾§è¾¹æ  -->
        <div class="sidebar" id="sidebar">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fab fa-telegram"></i>
                </div>
                <div class="logo-text">æé†’ç³»ç»Ÿ</div>
            </div>
            
            <div class="nav-menu">
                <a href="#" class="nav-item active" onclick="switchTab('dashboard')">
                    <i class="fas fa-home"></i>
                    <span class="nav-label">æ§åˆ¶é¢æ¿</span>
                </a>
                <a href="#" class="nav-item" onclick="switchTab('reminders')">
                    <i class="fas fa-bell"></i>
                    <span class="nav-label">æé†’ç®¡ç†</span>
                </a>
                <a href="#" class="nav-item" onclick="switchTab('settings')">
                    <i class="fas fa-cog"></i>
                    <span class="nav-label">è‡ªåŠ¨ä¿å­˜è®¾ç½®</span>
                </a>
                <a href="#" class="nav-item" onclick="switchTab('system')">
                    <i class="fas fa-chart-line"></i>
                    <span class="nav-label">ç³»ç»ŸçŠ¶æ€</span>
                </a>
            </div>
            
            <div class="system-info">
                <div class="info-item">
                    <span class="info-label">ç³»ç»ŸçŠ¶æ€</span>
                    <span class="info-value status-badge status-online">
                        <i class="fas fa-circle"></i>
                        è¿è¡Œä¸­
                    </span>
                </div>
                <div class="info-item">
                    <span class="info-label">æé†’æ€»æ•°</span>
                    <span class="info-value" id="sidebarTotalReminders">0</span>
                </div>
                <div class="info-item">
                    <span class="info-label">è‡ªåŠ¨ä¿å­˜</span>
                    <span class="info-value" id="sidebarAutoSaveStatus">æœªé…ç½®</span>
                </div>
                <div class="info-item">
                    <span class="info-label">ä¸‹æ¬¡è¿è¡Œ</span>
                    <span class="info-value" id="sidebarNextRun">11:00</span>
                </div>
            </div>
        </div>
        
        <!-- ä¸»å†…å®¹åŒº -->
        <div class="main-content">
            <!-- é¡¶éƒ¨æ  -->
            <div class="top-bar">
                <div>
                    <div class="page-title">GitHubå®šæ—¶æé†’ç³»ç»Ÿ</div>
                    <div class="page-subtitle">åŸºäºGitHub Actionsçš„ä¸“ä¸šçº§è‡ªåŠ¨åŒ–æé†’å¹³å°</div>
                </div>
                <button class="mobile-menu-btn" onclick="toggleSidebar()">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="action-bar">
                    <button class="btn btn-success" onclick="manualSaveToGitHub()">
                        <i class="fas fa-save"></i>
                        æ‰‹åŠ¨ä¿å­˜
                    </button>
                    <button class="btn btn-primary" onclick="syncWithGitHub()">
                        <i class="fas fa-sync-alt"></i>
                        åŒæ­¥æ•°æ®
                    </button>
                    <button class="btn btn-warning" onclick="manualTrigger()">
                        <i class="fas fa-play"></i>
                        ç«‹å³è¿è¡Œ
                    </button>
                </div>
            </div>
            
            <!-- ç»Ÿè®¡æ•°æ® -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon primary">
                        <i class="fas fa-bell"></i>
                    </div>
                    <div class="stat-value" id="totalReminders">0</div>
                    <div class="stat-label">æ€»æé†’é¡¹ç›®</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon success">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <div class="stat-value" id="autoSaveStatus">æœªå¯ç”¨</div>
                    <div class="stat-label">è‡ªåŠ¨ä¿å­˜çŠ¶æ€</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon warning">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="stat-value" id="todayReminders">0</div>
                    <div class="stat-label">ä»Šæ—¥åˆ°æœŸ</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon danger">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-value" id="upcomingReminders">0</div>
                    <div class="stat-label">å³å°†åˆ°æœŸ</div>
                </div>
            </div>
            
            <!-- æ§åˆ¶é¢æ¿ -->
            <div id="dashboardContent" class="tab-content">
                <div class="content-grid">
                    <!-- å·¦åˆ—ï¼šæ·»åŠ æé†’ -->
                    <div class="panel">
                        <div class="panel-header">
                            <h3 class="panel-title">
                                <i class="fas fa-plus-circle"></i>
                                æ–°å¢æé†’ä»»åŠ¡
                            </h3>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label class="form-label">æé†’åç§°</label>
                                <input type="text" class="form-control" id="reminderName" placeholder="ä¾‹å¦‚ï¼šå®‰å“ä¸‹è½½é“¾æ¥ã€WEBå¤§å…ã€ç½‘å®¿IP...">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">ä¸Šæ¬¡æ›´æ–°æ—¥æœŸ</label>
                                <input type="date" class="form-control" id="lastUpdated">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">æé†’é—´éš”ï¼ˆå¤©ï¼‰</label>
                                <input type="number" class="form-control" id="reminderDays" value="3" min="1" max="365">
                                <small style="color: var(--text-muted); display: block; margin-top: 8px;">æ¯å‡ å¤©æé†’ä¸€æ¬¡æ›´æ–°</small>
                            </div>
                            
                            <button class="btn btn-success btn-block" onclick="addReminder()">
                                <i class="fas fa-plus"></i>
                                æ·»åŠ æé†’ä»»åŠ¡
                            </button>
                            
                            <div class="info-text" style="margin-top: 20px;">
                                <i class="fas fa-info-circle"></i> 
                                æç¤ºï¼šæ·»åŠ åä¼šè‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°ï¼Œå¦‚æœé…ç½®äº†GitHub Tokenä¹Ÿä¼šè‡ªåŠ¨åŒæ­¥åˆ°äº‘ç«¯ã€‚
                            </div>
                        </div>
                    </div>
                    
                    <!-- å³åˆ—ï¼šç³»ç»ŸçŠ¶æ€ -->
                    <div class="panel">
                        <div class="panel-header">
                            <h3 class="panel-title">
                                <i class="fas fa-chart-line"></i>
                                ç³»ç»ŸçŠ¶æ€ç›‘æ§
                            </h3>
                            <span class="status-badge status-online">
                                <i class="fas fa-circle"></i>
                                æ­£å¸¸è¿è¡Œ
                            </span>
                        </div>
                        <div class="panel-body">
                            <div class="info-item">
                                <span class="info-label">å½“å‰æ—¶é—´</span>
                                <span class="info-value time-display" id="currentTime"></span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">ä¸‹æ¬¡è‡ªåŠ¨è¿è¡Œ</span>
                                <span class="info-value" id="nextAutoRun"></span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">è‡ªåŠ¨ä¿å­˜çŠ¶æ€</span>
                                <span class="info-value" id="systemAutoSaveStatus">æœªé…ç½®</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">GitHubè¿æ¥</span>
                                <span class="info-value status-badge status-online">
                                    <i class="fas fa-check-circle"></i>
                                    æ­£å¸¸
                                </span>
                            </div>
                            
                            <div class="action-bar" style="margin-top: 24px;">
                                <button class="btn btn-primary" onclick="viewActionsPage()">
                                    <i class="fab fa-github"></i>
                                    GitHub Actions
                                </button>
                                <button class="btn btn-warning" onclick="manualTest()">
                                    <i class="fas fa-vial"></i>
                                    æµ‹è¯•è¿è¡Œ
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- æé†’åˆ—è¡¨ -->
                <div class="panel" style="margin-top: 30px;">
                    <div class="panel-header">
                        <h3 class="panel-title">
                            <i class="fas fa-list"></i>
                            æé†’åˆ—è¡¨
                            <span class="status-badge" style="margin-left: 10px;" id="reminderListCount">0ä¸ªé¡¹ç›®</span>
                        </h3>
                        <div style="display: flex; gap: 8px;">
                            <button class="btn btn-small btn-success" onclick="refreshReminders()">
                                <i class="fas fa-sync-alt"></i>
                                åˆ·æ–°
                            </button>
                            <button class="btn btn-small btn-danger" onclick="clearAllReminders()">
                                <i class="fas fa-trash"></i>
                                æ¸…ç©º
                            </button>
                            <button class="btn btn-small btn-warning" onclick="downloadReminders()">
                                <i class="fas fa-download"></i>
                                ä¸‹è½½å¤‡ä»½
                            </button>
                        </div>
                    </div>
                    <div class="panel-body">
                        <div id="reminderList" class="reminder-list">
                            <!-- æé†’é¡¹ç›®å°†é€šè¿‡JSåŠ¨æ€åŠ è½½ -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- æé†’ç®¡ç† -->
            <div id="remindersContent" class="tab-content" style="display: none;">
                <div class="panel">
                    <div class="panel-header">
                        <h3 class="panel-title">
                            <i class="fas fa-bell"></i>
                            æé†’ä»»åŠ¡ç®¡ç†
                        </h3>
                    </div>
                    <div class="panel-body">
                        <div id="reminderList2" class="reminder-list">
                            <!-- æé†’é¡¹ç›®å°†é€šè¿‡JSåŠ¨æ€åŠ è½½ -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- è‡ªåŠ¨ä¿å­˜è®¾ç½® -->
            <div id="settingsContent" class="tab-content" style="display: none;">
                <div class="panel">
                    <div class="panel-header">
                        <h3 class="panel-title">
                            <i class="fas fa-robot"></i>
                            è‡ªåŠ¨ä¿å­˜é…ç½®
                        </h3>
                    </div>
                    <div class="panel-body">
                        <div class="form-group">
                            <label class="form-label">
                                <strong>è‡ªåŠ¨ä¿å­˜åŠŸèƒ½ï¼š</strong>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="autoSaveToggle" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <span id="autoSaveStatusDisplay" class="auto-save-status status-disabled">âŒ å·²ç¦ç”¨</span>
                            </label>
                        </div>
                        
                        <div class="token-config">
                            <h4 style="margin-bottom: 15px; color: var(--text-primary);">
                                <i class="fab fa-github"></i> GitHub Token é…ç½®
                            </h4>
                            
                            <div class="info-text">
                                éœ€è¦GitHub Personal Access Tokenæ‰èƒ½è‡ªåŠ¨ä¿å­˜åˆ°äº‘ç«¯ã€‚<br>
                                <a href="https://github.com/settings/tokens" target="_blank" style="color: var(--primary);">
                                    ç‚¹å‡»è¿™é‡Œåˆ›å»ºToken
                                </a>
                                ï¼ˆéœ€è¦repoæƒé™ï¼‰
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">GitHub Token</label>
                                <input type="password" class="form-control" id="githubToken" placeholder="è¾“å…¥GitHub Tokenï¼ˆghp_...ï¼‰">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">GitHubç”¨æˆ·å</label>
                                <input type="text" class="form-control" id="githubUsername" value="xiaowei1110000-cmyk">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">ä»“åº“åç§°</label>
                                <input type="text" class="form-control" id="githubRepo" value="telegram-reminder">
                            </div>
                            
                            <div class="action-bar">
                                <button class="btn btn-success" onclick="saveTokenConfig()">
                                    <i class="fas fa-save"></i> ä¿å­˜é…ç½®
                                </button>
                                <button class="btn btn-primary" onclick="testAutoSave()">
                                    <i class="fas fa-test"></i> æµ‹è¯•è¿æ¥
                                </button>
                                <button class="btn btn-danger" onclick="clearToken()">
                                    <i class="fas fa-trash"></i> æ¸…é™¤Token
                                </button>
                            </div>
                        </div>
                        
                        <div class="info-text" style="margin-top: 20px;">
                            <i class="fas fa-info-circle"></i> 
                            <strong>è‡ªåŠ¨ä¿å­˜è¯´æ˜ï¼š</strong>
                            <ul style="margin-top: 10px; padding-left: 20px;">
                                <li>å¯ç”¨åï¼Œæ¯æ¬¡æ·»åŠ /åˆ é™¤æé†’éƒ½ä¼šè‡ªåŠ¨ä¿å­˜åˆ°GitHub</li>
                                <li>Tokenä¼šåŠ å¯†ä¿å­˜åœ¨æµè§ˆå™¨æœ¬åœ°ï¼Œä¸ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨</li>
                                <li>éœ€è¦Tokenå…·æœ‰repoæƒé™æ‰èƒ½å†™å…¥ä»“åº“</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ç³»ç»ŸçŠ¶æ€ -->
            <div id="systemContent" class="tab-content" style="display: none;">
                <div class="panel">
                    <div class="panel-header">
                        <h3 class="panel-title">
                            <i class="fas fa-chart-line"></i>
                            ç³»ç»ŸçŠ¶æ€è¯¦æƒ…
                        </h3>
                    </div>
                    <div class="panel-body">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
                            <div class="info-item">
                                <span class="info-label">æœ¬åœ°å­˜å‚¨</span>
                                <span class="info-value status-badge status-online">
                                    <i class="fas fa-check-circle"></i>
                                    æ­£å¸¸
                                </span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">GitHubè¿æ¥</span>
                                <span class="info-value status-badge" id="githubConnectionStatus">
                                    <i class="fas fa-times-circle"></i>
                                    æœªè¿æ¥
                                </span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">æ•°æ®åŒæ­¥</span>
                                <span class="info-value" id="dataSyncStatus">æœªåŒæ­¥</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">æœ€åå¤‡ä»½</span>
                                <span class="info-value" id="lastBackupTime">ä»æœª</span>
                            </div>
                        </div>
                        
                        <div class="action-bar" style="margin-top: 20px;">
                            <button class="btn btn-primary" onclick="checkSystemStatus()">
                                <i class="fas fa-sync-alt"></i>
                                åˆ·æ–°çŠ¶æ€
                            </button>
                            <button class="btn btn-success" onclick="forceSync()">
                                <i class="fas fa-cloud-upload-alt"></i>
                                å¼ºåˆ¶åŒæ­¥
                            </button>
                            <button class="btn btn-warning" onclick="viewActionsPage()">
                                <i class="fab fa-github"></i>
                                æŸ¥çœ‹Actions
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- é€šçŸ¥å®¹å™¨ -->
    <div id="notificationContainer"></div>

    <script>
        // å­˜å‚¨æé†’æ•°æ®
        let reminders = [];
        let config = {
            autoSave: true,
            githubToken: '',
            username: 'xiaowei1110000-cmyk',
            repoName: 'telegram-reminder'
        };
        let currentTab = 'dashboard';
        
        // GitHubè‡ªåŠ¨ä¿å­˜ç±»
        class GitHubAutoSave {
            constructor(username, repoName, token) {
                this.username = username;
                this.repoName = repoName;
                this.token = token;
                this.apiBase = 'https://api.github.com';
            }
            
            async testConnection() {
                try {
                    const response = await fetch(`${this.apiBase}/repos/${this.username}/${this.repoName}`, {
                        headers: {
                            'Authorization': `token ${this.token}`,
                            'Accept': 'application/vnd.github.v3+json'
                        }
                    });
                    
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }
                    
                    const data = await response.json();
                    return {
                        success: true,
                        repo: data.full_name,
                        permissions: data.permissions
                    };
                } catch (error) {
                    return {
                        success: false,
                        error: error.message
                    };
                }
            }
            
            async saveToGitHub(content, commitMessage) {
                try {
                    // è·å–å½“å‰æ–‡ä»¶SHAï¼ˆå¦‚æœå­˜åœ¨ï¼‰
                    let sha = null;
                    try {
                        const fileResponse = await fetch(
                            `${this.apiBase}/repos/${this.username}/${this.repoName}/contents/reminders.json`,
                            {
                                headers: {
                                    'Authorization': `token ${this.token}`,
                                    'Accept': 'application/vnd.github.v3+json'
                                }
                            }
                        );
                        
                        if (fileResponse.ok) {
                            const fileData = await fileResponse.json();
                            sha = fileData.sha;
                        }
                    } catch (e) {
                        // æ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ­£å¸¸æƒ…å†µ
                    }
                    
                    // æ›´æ–°æ–‡ä»¶
                    const updateResponse = await fetch(
                        `${this.apiBase}/repos/${this.username}/${this.repoName}/contents/reminders.json`,
                        {
                            method: 'PUT',
                            headers: {
                                'Authorization': `token ${this.token}`,
                                'Accept': 'application/vnd.github.v3+json',
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({
                                message: commitMessage,
                                content: btoa(unescape(encodeURIComponent(content))),
                                sha: sha
                            })
                        }
                    );
                    
                    if (!updateResponse.ok) {
                        const errorData = await updateResponse.json();
                        throw new Error(errorData.message || `HTTP ${updateResponse.status}`);
                    }
                    
                    const result = await updateResponse.json();
                    return {
                        success: true,
                        message: 'ä¿å­˜æˆåŠŸ',
                        commit: result.commit
                    };
                } catch (error) {
                    return {
                        success: false,
                        error: error.message
                    };
                }
            }
        }
        
        let gitHubAutoSave = null;
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // è®¾ç½®é»˜è®¤æ—¥æœŸä¸ºä»Šå¤©
            document.getElementById('lastUpdated').valueAsDate = new Date();
            
            // åŠ è½½é…ç½®å’Œæ•°æ®
            loadConfig();
            loadReminders();
            
            // åˆå§‹åŒ–ç•Œé¢
            initializeUI();
            
            // å¼€å§‹å®æ—¶æ—¶é’Ÿ
            updateCurrentTime();
            setInterval(updateCurrentTime, 1000);
            
            // æ›´æ–°ä¸‹æ¬¡è¿è¡Œæ—¶é—´
            updateNextRunTime();
            
            // åˆå§‹åŒ–GitHubè‡ªåŠ¨ä¿å­˜
            initGitHubAutoSave();
            
            // æ›´æ–°è‡ªåŠ¨ä¿å­˜çŠ¶æ€æ˜¾ç¤º
            updateAutoSaveStatus();
            
            // è‡ªåŠ¨ä¿å­˜å¼€å…³äº‹ä»¶
            document.getElementById('autoSaveToggle').addEventListener('change', function() {
                config.autoSave = this.checked;
                saveConfig();
                updateAutoSaveStatus();
                
                if (config.autoSave && config.githubToken) {
                    showNotification('âœ… è‡ªåŠ¨ä¿å­˜å·²å¯ç”¨', 'success');
                }
            });
            
            console.log('ğŸ’» ä¸“ä¸šæé†’ç³»ç»Ÿå·²å¯åŠ¨');
        });
        
        // åˆå§‹åŒ–GitHubè‡ªåŠ¨ä¿å­˜
        function initGitHubAutoSave() {
            if (config.githubToken) {
                gitHubAutoSave = new GitHubAutoSave(
                    config.username,
                    config.repoName,
                    config.githubToken
                );
                
                // æµ‹è¯•è¿æ¥
                gitHubAutoSave.testConnection().then(result => {
                    if (result.success) {
                        console.log('âœ… GitHubè‡ªåŠ¨ä¿å­˜è¿æ¥æ­£å¸¸');
                    } else {
                        console.warn('âš ï¸ GitHubè‡ªåŠ¨ä¿å­˜è¿æ¥å¤±è´¥:', result.error);
                    }
                });
            }
        }
        
        // åŠ è½½é…ç½®
        function loadConfig() {
            const saved = localStorage.getItem('telegramReminderConfig');
            if (saved) {
                const savedConfig = JSON.parse(saved);
                config = { ...config, ...savedConfig };
                
                // æ›´æ–°UI
                document.getElementById('autoSaveToggle').checked = config.autoSave;
                document.getElementById('githubToken').value = config.githubToken || '';
                document.getElementById('githubUsername').value = config.username;
                document.getElementById('githubRepo').value = config.repoName;
            }
        }
        
        // ä¿å­˜é…ç½®
        function saveConfig() {
            // ä»UIè·å–æœ€æ–°å€¼
            config.githubToken = document.getElementById('githubToken').value.trim();
            config.username = document.getElementById('githubUsername').value.trim();
            config.repoName = document.getElementById('githubRepo').value.trim();
            config.autoSave = document.getElementById('autoSaveToggle').checked;
            
            localStorage.setItem('telegramReminderConfig', JSON.stringify(config));
            
            // é‡æ–°åˆå§‹åŒ–è‡ªåŠ¨ä¿å­˜
            if (config.githubToken) {
                initGitHubAutoSave();
            }
        }
        
        // ä¿å­˜Tokené…ç½®
        function saveTokenConfig() {
            const token = document.getElementById('githubToken').value.trim();
            const username = document.getElementById('githubUsername').value.trim();
            const repo = document.getElementById('githubRepo').value.trim();
            
            if (!token) {
                showNotification('è¯·è¾“å…¥GitHub Token', 'error');
                return;
            }
            
            if (!token.startsWith('ghp_') && !token.startsWith('github_pat_')) {
                if (!confirm('Tokenæ ¼å¼å¯èƒ½ä¸æ­£ç¡®ï¼Œæ˜¯å¦ç»§ç»­ä¿å­˜ï¼Ÿ')) {
                    return;
                }
            }
            
            config.githubToken = token;
            config.username = username;
            config.repoName = repo;
            saveConfig();
            
            // æµ‹è¯•è¿æ¥
            testAutoSave();
        }
        
        // æµ‹è¯•è‡ªåŠ¨ä¿å­˜
        async function testAutoSave() {
            if (!config.githubToken) {
                showNotification('è¯·å…ˆé…ç½®GitHub Token', 'error');
                return;
            }
            
            showNotification('æ­£åœ¨æµ‹è¯•GitHubè¿æ¥...', 'info');
            
            const tempGitHub = new GitHubAutoSave(
                config.username,
                config.repoName,
                config.githubToken
            );
            
            const result = await tempGitHub.testConnection();
            
            if (result.success) {
                showNotification(`âœ… è¿æ¥æˆåŠŸï¼ä»“åº“: ${result.repo}<br>æƒé™: ${JSON.stringify(result.permissions)}`, 'success');
                // åˆå§‹åŒ–æ­£å¼å®ä¾‹
                gitHubAutoSave = tempGitHub;
                updateAutoSaveStatus();
            } else {
                showNotification(`âŒ è¿æ¥å¤±è´¥: ${result.error}`, 'error');
            }
        }
        
        // æ¸…é™¤Token
        function clearToken() {
            if (confirm('ç¡®å®šè¦æ¸…é™¤Tokenå—ï¼Ÿæ¸…é™¤åè‡ªåŠ¨ä¿å­˜å°†å¤±æ•ˆã€‚')) {
                config.githubToken = '';
                document.getElementById('githubToken').value = '';
                saveConfig();
                gitHubAutoSave = null;
                updateAutoSaveStatus();
                showNotification('âœ… Tokenå·²æ¸…é™¤', 'success');
            }
        }
        
        // æ›´æ–°è‡ªåŠ¨ä¿å­˜çŠ¶æ€æ˜¾ç¤º
        function updateAutoSaveStatus() {
            const statusElement = document.getElementById('autoSaveStatusDisplay');
            const isEnabled = config.autoSave && config.githubToken;
            
            if (isEnabled) {
                statusElement.textContent = 'âœ… å·²å¯ç”¨ï¼ˆè‡ªåŠ¨ä¿å­˜ï¼‰';
                statusElement.className = 'auto-save-status status-enabled';
                
                document.getElementById('autoSaveStatus').textContent = 'å·²å¯ç”¨';
                document.getElementById('systemAutoSaveStatus').textContent = 'âœ… å·²å¯ç”¨';
                document.getElementById('sidebarAutoSaveStatus').textContent = 'å·²å¯ç”¨';
            } else if (config.autoSave && !config.githubToken) {
                statusElement.textContent = 'âš ï¸ å·²å¯ç”¨ï¼ˆæœªé…ç½®Tokenï¼‰';
                statusElement.className = 'auto-save-status status-warning';
                
                document.getElementById('autoSaveStatus').textContent = 'æœªé…ç½®';
                document.getElementById('systemAutoSaveStatus').textContent = 'âš ï¸ æœªé…ç½®Token';
                document.getElementById('sidebarAutoSaveStatus').textContent = 'æœªé…ç½®';
            } else {
                statusElement.textContent = 'âŒ å·²ç¦ç”¨';
                statusElement.className = 'auto-save-status status-disabled';
                
                document.getElementById('autoSaveStatus').textContent = 'æœªå¯ç”¨';
                document.getElementById('systemAutoSaveStatus').textContent = 'âŒ å·²ç¦ç”¨';
                document.getElementById('sidebarAutoSaveStatus').textContent = 'æœªå¯ç”¨';
            }
        }
        
        // è‡ªåŠ¨ä¿å­˜åˆ°GitHub
        async function autoSaveToGitHub() {
            if (!config.autoSave || !gitHubAutoSave) {
                return { success: false, message: 'è‡ªåŠ¨ä¿å­˜æœªå¯ç”¨' };
            }
            
            try {
                const jsonData = JSON.stringify(reminders, null, 2);
                const result = await gitHubAutoSave.saveToGitHub(jsonData, 'æ›´æ–°æé†’æ•°æ® [è‡ªåŠ¨]');
                
                if (result.success) {
                    console.log('âœ… è‡ªåŠ¨ä¿å­˜æˆåŠŸ:', result.message);
                    return result;
                } else {
                    console.error('âŒ è‡ªåŠ¨ä¿å­˜å¤±è´¥:', result.error);
                    return result;
                }
            } catch (error) {
                console.error('âŒ è‡ªåŠ¨ä¿å­˜å¼‚å¸¸:', error);
                return {
                    success: false,
                    error: error.message
                };
            }
        }
        
        // æ‰‹åŠ¨ä¿å­˜åˆ°GitHub
        async function manualSaveToGitHub() {
            if (!gitHubAutoSave) {
                showNotification('è¯·å…ˆé…ç½®GitHub Tokenå¹¶æµ‹è¯•è¿æ¥', 'error');
                return;
            }
            
            showNotification('æ­£åœ¨ä¿å­˜åˆ°GitHub...', 'info');
            
            const jsonData = JSON.stringify(reminders, null, 2);
            const result = await gitHubAutoSave.saveToGitHub(jsonData, 'æ‰‹åŠ¨æ›´æ–°æé†’æ•°æ®');
            
            if (result.success) {
                showNotification('âœ… å·²æˆåŠŸä¿å­˜åˆ°GitHub', 'success');
            } else {
                showNotification(`âŒ ä¿å­˜å¤±è´¥: ${result.error}`, 'error');
            }
        }
        
        // åˆå§‹åŒ–ç•Œé¢
        function initializeUI() {
            updateReminderList();
            updateStats();
            updateSidebarInfo();
        }
        
        // åˆ‡æ¢æ ‡ç­¾é¡µ
        function switchTab(tabName) {
            // éšè—æ‰€æœ‰å†…å®¹
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.style.display = 'none';
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„å†…å®¹
            document.getElementById(tabName + 'Content').style.display = 'block';
            
            // æ›´æ–°å¯¼èˆªèœå•æ¿€æ´»çŠ¶æ€
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            const navItem = document.querySelector(`.nav-item[onclick="switchTab('${tabName}')"]`);
            if (navItem) {
                navItem.classList.add('active');
            }
            
            currentTab = tabName;
            
            // å¦‚æœæ˜¯æé†’ç®¡ç†æ ‡ç­¾ï¼Œåˆ·æ–°æ•°æ®
            if (tabName === 'reminders') {
                updateReminderList2();
            }
        }
        
        // åˆ‡æ¢ä¾§è¾¹æ ï¼ˆç§»åŠ¨ç«¯ï¼‰
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('active');
        }
        
        // æ·»åŠ æé†’ï¼ˆå¸¦è‡ªåŠ¨ä¿å­˜ï¼‰
        async function addReminder() {
            const name = document.getElementById('reminderName').value.trim();
            const lastUpdated = document.getElementById('lastUpdated').value;
            const days = parseInt(document.getElementById('reminderDays').value);
            
            // éªŒè¯è¾“å…¥
            if (!name) {
                showNotification('è¯·è¾“å…¥æé†’åç§°', 'error');
                return;
            }
            
            if (!lastUpdated) {
                showNotification('è¯·é€‰æ‹©ä¸Šæ¬¡æ›´æ–°æ—¥æœŸ', 'error');
                return;
            }
            
            if (!days || days < 1) {
                showNotification('æé†’é—´éš”å¤©æ•°å¿…é¡»å¤§äº0', 'error');
                return;
            }
            
            // æ£€æŸ¥é‡å¤åç§°
            if (reminders.some(r => r.name === name)) {
                showNotification('æé†’åç§°å·²å­˜åœ¨ï¼Œè¯·ä½¿ç”¨å…¶ä»–åç§°', 'error');
                return;
            }
            
            // åˆ›å»ºæé†’å¯¹è±¡
            const reminder = {
                id: Date.now(),
                name: name,
                lastUpdated: lastUpdated,
                days: days,
                createdAt: new Date().toISOString(),
                enabled: true,
                notifications: 0,
                lastNotified: null
            };
            
            // æ·»åŠ åˆ°åˆ—è¡¨
            reminders.push(reminder);
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            saveReminders();
            
            // æ›´æ–°ç•Œé¢
            updateReminderList();
            updateReminderList2();
            updateStats();
            updateSidebarInfo();
            
            // æ¸…ç©ºè¡¨å•
            document.getElementById('reminderName').value = '';
            document.getElementById('reminderDays').value = '3';
            document.getElementById('lastUpdated').valueAsDate = new Date();
            
            showNotification(`âœ… "${name}" å·²æ·»åŠ åˆ°æé†’åˆ—è¡¨`, 'success');
            
            // è‡ªåŠ¨ä¿å­˜åˆ°GitHub
            if (config.autoSave && gitHubAutoSave) {
                const saveResult = await autoSaveToGitHub();
                if (saveResult.success) {
                    showNotification('âœ… å·²è‡ªåŠ¨ä¿å­˜åˆ°GitHub', 'success');
                } else {
                    showNotification(`âš ï¸ è‡ªåŠ¨ä¿å­˜å¤±è´¥: ${saveResult.error}`, 'warning');
                }
            }
        }
        
        // åˆ é™¤æé†’ï¼ˆå¸¦è‡ªåŠ¨ä¿å­˜ï¼‰
        async function deleteReminder(id) {
            if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæé†’å—ï¼Ÿ')) {
                return;
            }
            
            const reminderName = reminders.find(r => r.id === id)?.name || '';
            reminders = reminders.filter(r => r.id !== id);
            saveReminders();
            updateReminderList();
            updateReminderList2();
            updateStats();
            updateSidebarInfo();
            
            showNotification(`âœ… "${reminderName}" å·²åˆ é™¤`, 'success');
            
            // è‡ªåŠ¨ä¿å­˜åˆ°GitHub
            if (config.autoSave && gitHubAutoSave) {
                const saveResult = await autoSaveToGitHub();
                if (saveResult.success) {
                    showNotification('âœ… åˆ é™¤åå·²è‡ªåŠ¨ä¿å­˜åˆ°GitHub', 'success');
                }
            }
        }
        
        // æ¨¡æ‹Ÿå‘é€æé†’
        function simulateReminder(id) {
            const reminder = reminders.find(r => r.id === id);
            if (!reminder) return;
            
            // æ›´æ–°ä¸ºä»Šå¤©
            const today = new Date().toISOString().split('T')[0];
            reminder.lastUpdated = today;
            reminder.lastNotified = new Date().toISOString();
            reminder.notifications++;
            
            saveReminders();
            updateReminderList();
            updateReminderList2();
            updateStats();
            
            showNotification(
                `<strong>ğŸ”” æ¨¡æ‹Ÿæé†’å·²å‘é€</strong><br>
                 ä»»åŠ¡ï¼š${reminder.name}<br>
                 ä¸‹æ¬¡æé†’ï¼š${calculateNextReminderDate(today, reminder.days)}`,
                'success'
            );
        }
        
        // ç¼–è¾‘æé†’
        function editReminder(id) {
            const reminder = reminders.find(r => r.id === id);
            if (!reminder) return;
            
            // å¡«å……è¡¨å•
            document.getElementById('reminderName').value = reminder.name;
            document.getElementById('lastUpdated').value = reminder.lastUpdated;
            document.getElementById('reminderDays').value = reminder.days;
            
            // åˆ é™¤åŸæé†’
            reminders = reminders.filter(r => r.id !== id);
            saveReminders();
            updateReminderList();
            updateReminderList2();
            updateStats();
            
            showNotification(`æ­£åœ¨ç¼–è¾‘ï¼š${reminder.name}ï¼Œè¯·ä¿®æ”¹åç‚¹å‡»"æ·»åŠ "`, 'info');
            document.getElementById('reminderName').focus();
        }
        
        // æ›´æ–°æé†’åˆ—è¡¨æ˜¾ç¤ºï¼ˆæ§åˆ¶é¢æ¿ï¼‰
        function updateReminderList() {
            const reminderList = document.getElementById('reminderList');
            const reminderListCount = document.getElementById('reminderListCount');
            
            if (reminders.length === 0) {
                reminderList.innerHTML = `
                    <div class="empty-state">
                        <i class="far fa-bell"></i>
                        <h3>æš‚æ— æé†’ä»»åŠ¡</h3>
                        <p>ç‚¹å‡»ä¸Šæ–¹"æ–°å¢æé†’ä»»åŠ¡"åˆ›å»ºç¬¬ä¸€ä¸ªæé†’</p>
                    </div>
                `;
                reminderListCount.textContent = '0ä¸ªé¡¹ç›®';
                return;
            }
            
            // æ›´æ–°è®¡æ•°
            reminderListCount.textContent = `${reminders.length}ä¸ªé¡¹ç›®`;
            
            let html = '';
            const today = new Date();
            let todayCount = 0;
            
            // æŒ‰ä¸‹æ¬¡æé†’æ—¶é—´æ’åº
            const sortedReminders = [...reminders].sort((a, b) => {
                const nextA = calculateNextDate(a.lastUpdated, a.days);
                const nextB = calculateNextDate(b.lastUpdated, b.days);
                return nextA - nextB;
            });
            
            sortedReminders.forEach(reminder => {
                html += createReminderHTML(reminder, today);
                if (isTodayDue(reminder, today)) todayCount++;
            });
            
            reminderList.innerHTML = html;
            document.getElementById('todayReminders').textContent = todayCount;
        }
        
        // æ›´æ–°æé†’åˆ—è¡¨æ˜¾ç¤ºï¼ˆæé†’ç®¡ç†é¡µé¢ï¼‰
        function updateReminderList2() {
            const reminderList = document.getElementById('reminderList2');
            
            if (reminders.length === 0) {
                reminderList.innerHTML = `
                    <div class="empty-state">
                        <i class="far fa-bell"></i>
                        <h3>æš‚æ— æé†’ä»»åŠ¡</h3>
                        <p>åˆ‡æ¢åˆ°"æ§åˆ¶é¢æ¿"é¡µé¢æ·»åŠ æé†’</p>
                    </div>
                `;
                return;
            }
            
            let html = '';
            const today = new Date();
            
            // æŒ‰ä¸‹æ¬¡æé†’æ—¶é—´æ’åº
            const sortedReminders = [...reminders].sort((a, b) => {
                const nextA = calculateNextDate(a.lastUpdated, a.days);
                const nextB = calculateNextDate(b.lastUpdated, b.days);
                return nextA - nextB;
            });
            
            sortedReminders.forEach(reminder => {
                html += createReminderHTML(reminder, today);
            });
            
            reminderList.innerHTML = html;
        }
        
        // åˆ›å»ºæé†’HTML
        function createReminderHTML(reminder, today) {
            // è®¡ç®—ä¸‹æ¬¡æé†’æ—¥æœŸ
            const nextDate = calculateNextDate(reminder.lastUpdated, reminder.days);
            const nextStr = nextDate.toLocaleDateString('zh-CN');
            
            // è®¡ç®—å‰©ä½™å¤©æ•°
            const diffTime = nextDate - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            // çŠ¶æ€å’Œæ ·å¼
            let statusClass = 'status-active';
            let statusText = `${diffDays}å¤©åæé†’`;
            let statusIcon = 'far fa-clock';
            
            if (diffDays <= 0) {
                statusClass = 'status-critical';
                statusText = 'ä»Šæ—¥åˆ°æœŸ';
                statusIcon = 'fas fa-exclamation-circle';
            } else if (diffDays === 1) {
                statusClass = 'status-warning';
                statusText = 'æ˜å¤©åˆ°æœŸ';
                statusIcon = 'fas fa-exclamation-triangle';
            }
            
            // é€šçŸ¥ç»Ÿè®¡
            const notifyCount = reminder.notifications || 0;
            
            return `
                <div class="reminder-item">
                    <div class="reminder-header">
                        <div class="reminder-title">
                            <i class="far fa-bell"></i>
                            ${reminder.name}
                            ${!reminder.enabled ? '<span style="color: var(--text-muted); font-size: 12px;">(å·²ç¦ç”¨)</span>' : ''}
                        </div>
                        <span class="reminder-status ${statusClass}">
                            <i class="${statusIcon}"></i>
                            ${statusText}
                        </span>
                    </div>
                    
                    <div class="reminder-meta">
                        <span>
                            <i class="far fa-calendar"></i>
                            ä¸Šæ¬¡ï¼š${reminder.lastUpdated}
                        </span>
                        <span>
                            <i class="far fa-calendar-check"></i>
                            ä¸‹æ¬¡ï¼š${nextStr}
                        </span>
                        <span>
                            <i class="fas fa-history"></i>
                            é—´éš”ï¼š${reminder.days}å¤©
                        </span>
                        <span>
                            <i class="fas fa-paper-plane"></i>
                            å·²å‘é€ï¼š${notifyCount}æ¬¡
                        </span>
                    </div>
                    
                    <div class="reminder-actions">
                        <button class="btn btn-small btn-primary" onclick="simulateReminder(${reminder.id})" title="æµ‹è¯•å‘é€">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                        <button class="btn btn-small btn-warning" onclick="editReminder(${reminder.id})" title="ç¼–è¾‘">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-small btn-danger" onclick="deleteReminder(${reminder.id})" title="åˆ é™¤">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            `;
        }
        
        // è®¡ç®—ä¸‹æ¬¡æé†’æ—¥æœŸ
        function calculateNextDate(lastUpdated, days) {
            const lastDate = new Date(lastUpdated);
            const nextDate = new Date(lastDate);
            nextDate.setDate(nextDate.getDate() + days);
            return nextDate;
        }
        
        // è®¡ç®—ä¸‹æ¬¡æé†’æ—¥æœŸå­—ç¬¦ä¸²
        function calculateNextReminderDate(lastUpdated, days) {
            const nextDate = calculateNextDate(lastUpdated, days);
            return nextDate.toLocaleDateString('zh-CN');
        }
        
        // æ£€æŸ¥æ˜¯å¦æ˜¯ä»Šå¤©åˆ°æœŸ
        function isTodayDue(reminder, today) {
            const nextDate = calculateNextDate(reminder.lastUpdated, reminder.days);
            const diffDays = Math.ceil((nextDate - today) / (1000 * 60 * 60 * 24));
            return diffDays <= 0;
        }
        
        // æ›´æ–°ç»Ÿè®¡æ•°æ®
        function updateStats() {
            const today = new Date();
            let todayCount = 0;
            let upcomingCount = 0;
            
            reminders.forEach(reminder => {
                const nextDate = calculateNextDate(reminder.lastUpdated, reminder.days);
                const diffDays = Math.ceil((nextDate - today) / (1000 * 60 * 60 * 24));
                
                if (diffDays <= 0) todayCount++;
                else if (diffDays <= 3) upcomingCount++;
            });
            
            document.getElementById('totalReminders').textContent = reminders.length;
            document.getElementById('todayReminders').textContent = todayCount;
            document.getElementById('upcomingReminders').textContent = upcomingCount;
        }
        
        // æ›´æ–°ä¾§è¾¹æ ä¿¡æ¯
        function updateSidebarInfo() {
            document.getElementById('sidebarTotalReminders').textContent = reminders.length;
            
            const today = new Date();
            const todayCount = reminders.filter(r => isTodayDue(r, today)).length;
            
            document.getElementById('sidebarTodayReminders').textContent = todayCount;
        }
        
        // åˆ·æ–°æé†’åˆ—è¡¨
        function refreshReminders() {
            showNotification('æ­£åœ¨åˆ·æ–°æ•°æ®...', 'info');
            loadReminders();
            updateReminderList();
            updateReminderList2();
            updateStats();
            updateSidebarInfo();
            
            setTimeout(() => {
                showNotification('âœ… æ•°æ®åˆ·æ–°å®Œæˆ', 'success');
            }, 500);
        }
        
        // æ¸…ç©ºæ‰€æœ‰æé†’
        function clearAllReminders() {
            if (reminders.length === 0) {
                showNotification('å½“å‰æ²¡æœ‰æé†’ä»»åŠ¡', 'info');
                return;
            }
            
            if (confirm(`ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰ ${reminders.length} ä¸ªæé†’ä»»åŠ¡å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ï¼`)) {
                reminders = [];
                saveReminders();
                updateReminderList();
                updateReminderList2();
                updateStats();
                updateSidebarInfo();
                showNotification('âœ… æ‰€æœ‰æé†’ä»»åŠ¡å·²æ¸…ç©º', 'success');
                
                // è‡ªåŠ¨ä¿å­˜åˆ°GitHub
                if (config.autoSave && gitHubAutoSave) {
                    autoSaveToGitHub();
                }
            }
        }
        
        // åŒæ­¥åˆ°GitHub
        function syncWithGitHub() {
            if (reminders.length === 0) {
                showNotification('æ²¡æœ‰æé†’æ•°æ®å¯ä»¥åŒæ­¥', 'error');
                return;
            }
            
            showNotification('æ­£åœ¨å‡†å¤‡åŒæ­¥æ•°æ®...', 'info');
            
            const jsonData = JSON.stringify(reminders, null, 2);
            
            const guide = `
                <strong>ğŸ“ åŒæ­¥åˆ°GitHub</strong><br><br>
                1. å¤åˆ¶ä»¥ä¸‹JSONæ•°æ®ï¼š<br>
                <textarea style="width:100%; height:120px; background:var(--bg-input); color:var(--text-primary); 
                border:1px solid var(--border-color); border-radius:8px; padding:12px; margin:10px 0; font-family:monospace;">${jsonData}</textarea><br>
                2. è®¿é—® <a href="https://github.com/xiaowei1110000-cmyk/telegram-reminder" target="_blank" style="color:var(--primary);">GitHubä»“åº“</a><br>
                3. ç¼–è¾‘ reminders.json æ–‡ä»¶å¹¶ç²˜è´´æ•°æ®<br>
                4. æäº¤æ›´æ”¹<br><br>
                <small>ğŸ’¡ åŒæ­¥åç³»ç»Ÿå°†åœ¨ä¸‹æ¬¡è¿è¡Œæ—¶ä½¿ç”¨æœ€æ–°æ•°æ®</small>
            `;
            
            showNotification(guide, 'info', 15000);
        }
        
        // æ‰‹åŠ¨è§¦å‘
        function manualTrigger() {
            showNotification(
                `<strong>ğŸ”§ æ‰‹åŠ¨è¿è¡Œæ­¥éª¤</strong><br><br>
                1. è®¿é—® GitHub Actions é¡µé¢<br>
                2. æ‰¾åˆ° "Send Telegram Reminder" å·¥ä½œæµ<br>
                3. ç‚¹å‡» "Run workflow"<br>
                4. ç­‰å¾…è¿è¡Œå®Œæˆ<br>
                5. æ£€æŸ¥Telegramæ¶ˆæ¯`,
                'info'
            );
        }
        
        // å¯¼å‡ºæ•°æ®
        function downloadReminders() {
            if (reminders.length === 0) {
                showNotification('æ²¡æœ‰æé†’æ•°æ®å¯ä»¥å¯¼å‡º', 'error');
                return;
            }
            
            const jsonData = JSON.stringify(reminders, null, 2);
            const blob = new Blob([jsonData], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `reminders-export-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification('âœ… æé†’æ•°æ®å·²å¯¼å‡º', 'success');
        }
        
        // æŸ¥çœ‹Actionsé¡µé¢
        function viewActionsPage() {
            window.open(`https://github.com/${config.username}/${config.repoName}/actions`, '_blank');
        }
        
        // æ‰‹åŠ¨æµ‹è¯•
        function manualTest() {
            window.open(`https://github.com/${config.username}/${config.repoName}/actions`, '_blank');
        }
        
        // æ£€æŸ¥ç³»ç»ŸçŠ¶æ€
        function checkSystemStatus() {
            showNotification('æ­£åœ¨æ£€æŸ¥ç³»ç»ŸçŠ¶æ€...', 'info');
            setTimeout(() => {
                showNotification('âœ… ç³»ç»ŸçŠ¶æ€æ­£å¸¸', 'success');
            }, 1000);
        }
        
        // å¼ºåˆ¶åŒæ­¥
        function forceSync() {
            if (gitHubAutoSave) {
                manualSaveToGitHub();
            } else {
                showNotification('è¯·å…ˆé…ç½®GitHub Token', 'error');
            }
        }
        
        // æ›´æ–°å½“å‰æ—¶é—´
        function updateCurrentTime() {
            const now = new Date();
            document.getElementById('currentTime').textContent = 
                now.toLocaleString('zh-CN', { 
                    year: 'numeric', 
                    month: '2-digit', 
                    day: '2-digit',
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit',
                    hour12: false
                });
        }
        
        // æ›´æ–°ä¸‹æ¬¡è¿è¡Œæ—¶é—´
        function updateNextRunTime() {
            const now = new Date();
            const targetTime = new Date();
            
            targetTime.setHours(11, 0, 0, 0);
            
            if (now > targetTime) {
                targetTime.setDate(targetTime.getDate() + 1);
            }
            
            const diffMs = targetTime - now;
            const diffHours = Math.floor(diffMs / (1000 * 60 * 60));
            const diffMinutes = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));
            
            const nextRunElement = document.getElementById('nextAutoRun');
            if (nextRunElement) {
                nextRunElement.textContent = 
                    `${diffHours}å°æ—¶${diffMinutes}åˆ†é’Ÿå (${targetTime.toLocaleString('zh-CN')})`;
            }
            
            // æ›´æ–°ä¾§è¾¹æ 
            document.getElementById('sidebarNextRun').textContent = 
                targetTime.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' });
            
            setTimeout(updateNextRunTime, 30000);
        }
        
        // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
        function saveReminders() {
            localStorage.setItem('telegramReminders', JSON.stringify(reminders));
            console.log('ğŸ’¾ æ•°æ®å·²ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨');
        }
        
        // ä»æœ¬åœ°å­˜å‚¨åŠ è½½
        function loadReminders() {
            const saved = localStorage.getItem('telegramReminders');
            if (saved) {
                try {
                    reminders = JSON.parse(saved);
                    console.log('ğŸ“‚ ä»æœ¬åœ°å­˜å‚¨åŠ è½½äº†', reminders.length, 'ä¸ªæé†’');
                } catch (e) {
                    reminders = [];
                    console.error('âŒ åŠ è½½æœ¬åœ°å­˜å‚¨æ•°æ®å¤±è´¥ï¼š', e);
                }
            }
        }
        
        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message, type = 'info', duration = 5000) {
            const container = document.getElementById('notificationContainer');
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            const icons = {
                success: 'fas fa-check-circle',
                error: 'fas fa-exclamation-circle',
                warning: 'fas fa-exclamation-triangle',
                info: 'fas fa-info-circle'
            };
            
            notification.innerHTML = `
                <div class="notification-icon">
                    <i class="${icons[type] || icons.info}"></i>
                </div>
                <div class="notification-content">
                    ${message}
                </div>
                <button class="notification-close" onclick="this.parentElement.remove()">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            container.appendChild(notification);
            
            // è‡ªåŠ¨ç§»é™¤
            if (duration > 0) {
                setTimeout(() => {
                    if (notification.parentNode === container) {
                        container.removeChild(notification);
                    }
                }, duration);
            }
            
            return notification;
        }
    </script>
</body>
</html>
